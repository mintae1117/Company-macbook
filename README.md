# 회사 macbook repo
총 4개 scene (Benefit, BenefitList, BenefitDetail, BenefitMap).

들어간 기능 - 검색, gps, 지도, 좋아요(store별, menu별), filtering(좋아요 많은순, 가까운순, 조회수 많은순 등등), 사진 및 상세보기 등등

리액트 네이티브란 무엇인가?
리액트 네이티브와 리액트의 차이

리액트 네이티브와 리액트의 차이는 생각했던 것 보다 많았다. 먼저 간단한 훅들이나 컴포넌트, 함수 사용은 비슷했다. 엄청 큰 차이가 나진 않지만 자잘하게 다른것들도 이해가 가능하고 바로바로 적응이 가능했던 것 같다. 하지만 이런 이유들로 가장 큰 차이점들이 발생했던 것 같다.

React는 화면 출력 시 ReactDom을 사용하지만, React Native는 AppRegistry를 사용한다.

React Native는 HTML 문법을 사용하지 않고, Components를 사용한다.

기존의 CSS를 지원하지 않는다. 또 JS 파일 안에서 StyelSheet라는 것을 사용한다.

이런 이유들로 인해 웹만 접해왔던 나로써는 이해가 안되는 문제들이 많이 발생했던 것 같다.

html 메소드를 벗어나 기본적으로 주어진 컴포넌트 만을 이용하여 뷰를 그려가는 것과 리액트 돔을 사용하지 않기 때문에 어쩔 수 없이 생기는 문법적인 다른 부분들이 가장 헷갈렸던 것 같다.

그리고 이건 리액트 네이티브와 리액트의 차이점은 아니지만 회사 코드 구조적으로 파라미터를 넘겨주거나 state managing(ex. redux, recoil )을 중앙에서 관리하는 방식 보단 각 페이지나 서버로 넘겨주고 서버에서 처리하는 구조를 쫌더 선호했던 것 같다.

이건 나중에 더 프로젝트를 진행해 보고 api 와 아키택 지식이 더 쌓여야 완전히 이해를 할 수 있을것 같다.

 

리액트 네이티브 프로젝트의 파일 구조

리액트 네이티브는 모바일 앱을 만들기 위해 만들어진 언어(라이브러리) 이다. 그래서 그런지 모든 파일 구조는 scene 별로 나뉘게 된다. 기존 리액트에서 가져가던 spa 방식이 아니라 페이지 별로 뷰를 그려가는 작업이 기본적인 구조인 것 같다.

그렇게 scene 들을 그려내고 나면 react-router-dom 과 닮아있는 react-navigation/native 를 사용하여 scene 간에 연결이 이루어 진다. 꼭 scene 을 만들지 않고도 한 scene 안에서 복잡한 뷰를 그려가는 작업이 이루어질 수도 있는것 같지만

아직까진 경험해 보지 못했다. 추후에 경험하게 된다면 제대로 알아보자.

한 scene 에서도 크게 container, index, presenter, style로 나뉘게 된다. 각각 역할이 다른것 같고, 주로 container 에서는 usecallback hook을 이용한 중요 함수들, api를 불러올 init 작업들, 그외 ui 보단 ux 에 쫌 더 치우쳐 코드를 써가는게

보편적인것 같다. 그리고 presenter 에서는 ui 작업이 이루어진다. 정말 피치 못할 상황만 아니라면 대부분의 ux 관련 코드들은 container 에서 진행하고 presenter로 props 를 넘겨주는게 보편적인것 같다. 이때 기본적으로 제공되는 component 들 만을 사용하여 ui를 그려나가야 한다.

예로는 View, Text, Touchableopacity, FastImage 등이 있다. 이렇게 뷰를 그리고 나면 마지막이 스타일링 이다. 스타일링은 사용했던 컴포넌트들에 바로 적용을 하여도 되고 style.js에 따로 빼서 해도 된다.

재사용이 빈번할 것 같은 style은 주로 빼서 하고 자잘한 margin 이나 view flex styling 같은 것들은 컴포넌트 안에서 하면 된다.

 

왜 리액트 네이티브를 쓰는가?

리액트 네이티브의 장점은 역시 진입장벽 인것 같다. 나같은 웹 개발자들도 리액트만 알고 의지만 있다면 빠르게 익혀 어느정도 모바일 앱 작업을 가능하게 해준다. 그리고 리액트의 장점중의 장점인 여러 훅들과 라이브러리들을 사용하여 편리하고 빠르게 코드를 짤 수 있다.

하지만 역시 단점도 존재한다. 기존 네이티브(안드, 애플) 앱들과는 다르게 두 환경에서 모두 작동을 하게 만든 라이브러리다 보니 한계가 분명하고 복잡한 기능들을 정확하게 구현하려 할수록 기존 네이티브 들에 의존을 하게된다.

여기서 나의 한계도 함께 나오게 된다. 리액트 네이티브는 어느정도 이해도가 생겼지만 기존 네이티브들에 대해서는 아예 무지하기 때문에 어떤것들을 어떻게 적용하여 문제를 해결해 나가야할지 막막하다. 이런 문제점들은 보완점을 찾아봐야 할 것 같다.

 

네이버 맵 api를 파해쳐보자!
React-native 네이버 맵 api (GitHub - mym0404/react-native-naver-map: Naver Map for React Native - Bring Naver Map to Your React Fingertips)

리액트 네이티브에서 네이버 지도를 사용할 수 있도록 해준 나온지 얼마안된 따끈따끈한 api 다. 기존 react-native-naver-map 보다 훨씬 다양한 기능들을 재공해 주고있다. cluster 라던지 marker 라던지 굉장히 많은 기능들에 당황할 정도로 지도 api에 대해 공부를

할 수 있었던 기회였던 것 같다. naver map 으로 현재 본인의 위치와 각 지점들의 위치를 찍어주고 추가적인 기능들 및 각 지점들의 마커를 스타일링 하고 마커를 눌렀을때 지점의 list main 뷰와 상세로 이동하는 경로까지 지정하는 작업을 했다.

중간중간 익숙하지 않은 사용법에 당황하고 해맸지만 깃헙 공식페이지에서 찾아가며 공부하고 또 필요한 부분들은 추가하거나 없애면서 작업을 해서 긍정적인 경험들이 많았던 것 같다.

 

네이버 맵 api 에서 제공하는 기본적인 기능들과 추가적으로 적용한 부분 (caption 부분, image 부분 등등)

네이버 맵 api 가 제공하는 기본적인 기능들 중에 가져다 쓴 것들은 크게 네이버 맵 부분에서 초기 카메라 위치기능, 본인 위치 기능, 스크롤 재스처 기능과 ontapmap 이 있다.

그리고 marker 부분에선 isHideCollidedSymbols, isHideCollidedMarkers, caption, image 가 있다.

이런 기능들은 개발의 수고를 굉장히 덜어주었고 부가적인 기능들을 추가 하기에도 친절하게 잘돼있었던 것 같다.

 

리액트 네이티브의 css 스타일링
presenter.js 와 style.js, 그리고 어떤것이 css와 다를까?

앞서 말했다 시피 리액트 네이티브는 기존의 css 를 지원하지 않는다. stylesheet를 사용하기 때문에 기존의 css 스타일링 과는 다른 부분들이 많았다. 그중 가장 큰 부분 이었던 것은 ““ 안에 props 를 넣어주는 것이었다.

그리고 웹과는 다르게 생각보다 반응형에 대하여 고려를 많이 하지 않아도 됐던 것 같다. 그래서 그런지 타일윈드 또는 부트스트랩에 대한 의존도 보다 순수한 css 스타일링을 지향했던 것 같다. 그리고 안드로이드, ios 에서의 스타일이 맞지 않는 부분들이 많았기 때문에

가능하면 스타일링 관련 라이브러리나 훅들은 사용을 최소화 하며 프로젝트를 진행 하였다. presenter.js 에서 바로바로 스타일링을 하기도 했고 style.js 로 빼서 하기도 했지만 언제나 그렇듯 정답은 정해져 있지 않았고 가장 중요한 것은 가독성 이었던 것 같다.

 

모바일 앱의 함수와 컴포넌트 구조잡기
모바일 앱과 내가 해오던 웹의 파일 구조는 어떤게 다를까?

모바일 앱은 웹과는 확실히 파일 구조 자체가 달랐다. 라우팅 부터 파일 component, routes 들을 원하는대로 빼고 묶으며 편하고 불규칙하게 짜던 구조들 과는 달리 scene 별로 구조를 잡아가는 경험을 처음 해봤다. 확실히 처음에는 많이 해맸지만 익숙해 지고 나니

아 파일 구조는 이렇게 짜야되는 거구나 싶을 정도로 깔끔했고 앞으로도 파일 구조를 짤때 어떤 식으로 짜야할지 그리고 대형 이나 복잡한 프로젝트들을 진행할 땐 어떤식으로 해야할지 등이 명확해 지는 경험 이었던 것 같다.

컴포넌트 들의 경우는 usecallback 을 써서 함수 전달을 하고 container 부분에서 가능한 ux 들을 모두 구현하여 presenter로 전달하는 방식을 사용했다. 이 부분에서는 아직 익숙하지 않고 팀의 개발 방향성에 따랐던 거라 쫌더 공부해 봐야 알것같다.

 

모바일 앱의 가장 큰 구조적 차이점은 뭐가 있을까?

container 와 presenter 를 나누는 이유에 있을 것 같다. 더 공부해 봐야 알것 같다.

 

제플린이란?
제플린은 어떤식으로 사용해야 하는가?

피그마는 몇번 접해 본적이 있지만 제플린이란 툴은 이번에 처음 접해봤다. 다양한 기능들을 재공했고 뭔가 단축키나 커맨드 용어들을 모르더라도 쉽게 화면에서 디자인 된 요소들을 확인하기 좋았던 것 같다. 그리고 무엇보다 비트버킷, 지라, 포크, 인텔리제이 와 연결되어

협업에 있어서 커뮤니케이션에 굉장히 좋은 경험을 제공해 줬던 것 같다.

 

제플린의 장점, 단점은 어떤것들이 있을까?

제플린은 요소들을 클릭 할 경우 그 요소들의 css 코드를 보여준다. margin width height 부터 fontsize fontstyle 까지 대부분의 요소들을 복사 붙여넣기 만 하면 되게끔 해주기 때문에 끙끙 앓으면서 css를 하나하나 작업 할 필요가 없었다. 그리고 실시간으로 디자인 팀에서

개발 팀으로 섹션들이 제공되기 때문에 시간 적으로나 커뮤니케이션 적으로 긍정적 이었던 것 같다.

단점으로는 아직 내가 제플린에 대해 잘 알지 못한다 라는게 단점인 것 같다. 분명 여러 기능들과 편의성을 제공할 텐데 내가 아직 몰라서 다 사용하지 못하는 기분이 들었다. 시간이 날때 공부해 봐야겠다. 

 

인텔리제이, 포크 사용법
포크 사용 이유와 장점들

신세계다. 널리 널리 알려야 한다. 언제까지 git 명령어를 때려 타이핑 하고 있을것인가. 너무 너무 편하고 좋았다. pull 받고 Push 하는 것부터 conflict 가 일어났을때 어떻게 처리를 할건지 그리고 코드를 stash 해놨다가 pull받아 적용시키고 커밋 로그를 확인하는 등등 그냥

말도 안되게 편리한 기능들이 딸깍 몇번으로 끝이 났다. 이건 그냥 써야한다. 아직 완전히 익숙하진 않지만 계속 공부해 나가면서 편의성 원탑으로 남들보다 스마트 하게 살자!

인텔리제이 사용 이유와 장점들

인텔리제이는 확실히 vscode 와는 달랐다. 현업에서 보안성 이유로 많이 쓴다는 것은 알고 있었지만 직접 써보진 않았기 때문에 익숙해 지는데 시간이 걸렸던 것 같다. 대부분 비슷했지만 지라, 비트버킷, 등등 많은 회사의 협업 툴들과 계정이 연결되어 있었기 때문에

기존에 혼자 공부하고 코드를 짜던 경험들 보단 편했던 것 같다.

 

그외 자잘한 알게된 것, +버그(계속 추가 작성)
react-native naver map 에서 marker의 caption이 안뜨는 경우가 있었다. 아직 이유를 찾지 못했지만 random number로 caption width 부분에 0~1에 해당하는 값을 더해주니 모든 요소들에 빠짐이 없이 caption을 띄우는 것을 확인했고 중복이 되지 않게 로직을 짜서

넣어주면서 버그를 해결은 해놨지만 나중에 자세히 살펴봐야 할 것 같다.

